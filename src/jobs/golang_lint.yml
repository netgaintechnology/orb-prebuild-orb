description: >
  golang linting

executor: golang

parameters:
  lint-dir:
    type: string
    default: .
    description: >
      Directory within to lint all golang files,
      defaults to the working directory (.)

steps:
  - update_alpine_and_checkout
  - run: curl -sfL https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh| sh -s -- -b /bin
  - run: golangci-lint run <<parameters.lint-dir>>/... --enable-all=true
